---
import Layout from "@layouts/Layout.astro";
import Header from "@components/Header.astro";
import Hr from "@components/Hr.astro";

---
<!--<link rel="stylesheet" type="text/css" href="/vit.css"/>-->
<link rel="stylesheet" type="text/css" href="https://votinginfotool.org/css/compiled/vit.css"/>
<script is:inline src="/app.js"></script>

<Layout>
  <Header />
  <main id="main-content">
    <section id="hero">
      <h1>Accessible Voting Platform</h1>
      <p>
        Welcome! For the survey link or more info, please check out the About page.
      </p>

      <!-- Voting Information Tool -->
      <div class="override_text" id="_vit" style="width: 100%; height: 480px;"></div>

    </section>

    <Hr />

  </main>
</Layout>

<!-- Embed Voting Information Tool -->
<script>
  var config = {
    "title": {"en":"Voting Information Tool"},
    "embedded-line1": {"en":"Find out where to vote."},
    "embedded-line2-hidden": true,
    "embedded-line3-hidden": true,
    "logo": {"type":"default"},
    "official-only": true
    };
    var loadVIT = function () {
      if (typeof vit !== 'undefined'){
        vit.core.init("_vit", config);
        } else {
        setTimeout(loadVIT, 500);
        }
      };

    // Wait until the entire page (and external scripts) is loaded before initializing VIT
    window.addEventListener('load', function() {
      loadVIT();
      });

</script>

<style>
  #_vit__main-panel * {
      font-family: IBM Plex Mono, monospace !important;
  }

  /* ===== Hero Section ===== */
  #hero {
    @apply pb-6 pt-8;
  }
  #hero h1 {
    @apply my-4 inline-block text-3xl font-bold sm:my-8 sm:text-4xl content-center;
  }
  #hero .rss-link {
    @apply mb-6;
  }
  #hero .rss-icon {
    @apply mb-2 h-6 w-6 scale-110 fill-skin-accent sm:mb-3 sm:scale-125;
  }
  #hero p {
    @apply my-2;
  }
  .social-wrapper {
    @apply mt-4 flex flex-col sm:flex-row sm:items-center;
  }
  .social-links {
    @apply mb-1 mr-2 whitespace-nowrap sm:mb-0;
  }

  /* ===== Featured & Recent Posts Sections ===== */
  #featured,
  #recent-posts {
    @apply pb-6 pt-12;
  }
  #featured h2,
  #recent-posts h2 {
    @apply text-2xl font-semibold tracking-wide;
  }
  .all-posts-btn-wrapper {
    @apply my-8 text-center;
  }


</style>
